<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://nikradofem.online/">
    <meta property="og:title" content="NikRadofem">
    <meta property="og:description" content="Слушай лучший микс Rock, Pop и Breakcore в прямом эфире 24/7.">
    <meta property="og:image" content="https://nikradofem.online/assets/logo.png">
    <link rel="icon" type="image/x-icon" href="assets/icon.ico">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00ff41">
    <title>NikRadofem</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');

        :root {
            --bg: #0b0b0b;
            --accent: #00ff41; 
            --accent-dim: rgba(0, 255, 65, 0.2);
            --text: #ffffff;
            --text-muted: #888;
            --card-bg: #151515;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        /* --- Live background --- */
        .live-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: linear-gradient(45deg, #0b0b0b, #051a08, #0b0b0b, #08220c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- Header --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 5%;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            background: rgba(11, 11, 11, 0.8);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(0, 255, 65, 0.1);
        }

        .logo img { height: 45px; display: block; }

        nav { display: flex; gap: 25px; align-items: center; }
        nav a { color: var(--text-muted); text-decoration: none; font-size: 0.9rem; font-weight: 600; transition: 0.3s; text-transform: uppercase; }
        nav a:hover { color: var(--accent); }

        /* Hamburger menu animation (Part 1) */
        .hamburger {
            display: none;
            cursor: pointer;
            flex-direction: column;
            gap: 6px;
            z-index: 1100;
        }
        .hamburger span {
            display: block;
            width: 30px;
            height: 3px;
            background: var(--text);
            transition: 0.3s;
            border-radius: 2px;
        }

        /* Hamburger menu animation (Part 2) */
        .hamburger.active span:nth-child(1) { transform: translateY(9px) rotate(45deg); }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }

        /* --- Player --- */
        .hero {
            position: relative;
            min-height: 85vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 120px 5% 50px;
        }

        .player-grid {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1300px;
            gap: 40px;
            background: rgba(20, 20, 20, 0.7);
            padding: 50px;
            border-radius: 30px;
            border: 1px solid rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
        }

        .now-playing { display: flex; align-items: center; gap: 40px; flex: 1; }
        .cover-art {
            width: 300px; height: 300px;
            min-width: 300px;
            border-radius: 20px;
            background: #111 url('assets/not_found.png') center/contain no-repeat;
            box-shadow: 0 30px 60px rgba(0,0,0,0.6);
            border: 1px solid rgba(0, 255, 65, 0.2);
            transition: 0.5s;
        }

        .track-text h5 { 
            color: var(--accent); 
            font-size: 0.8rem; 
            letter-spacing: 3px; 
            margin-bottom: 15px; 
            display: flex; 
            align-items: center; 
            gap: 10px;
            font-weight: 800;
        }
        .status-dot { width: 10px; height: 10px; background: var(--accent); border-radius: 50%; box-shadow: 0 0 15px var(--accent); animation: pulse 1.5s infinite; }
        
        .track-text h2 { font-size: 3rem; font-weight: 800; margin-bottom: 10px; line-height: 1.1; }
        .track-text p { color: var(--text-muted); font-size: 1.5rem; }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.5; }
            100% { transform: scale(1); opacity: 1; }
        }

        .controls-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            min-width: 250px;
        }

        .play-btn {
            width: 130px; height: 130px;
            border-radius: 50%;
            background: var(--accent);
            border: none;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: 0.4s;
            box-shadow: 0 15px 30px rgba(0, 255, 65, 0.3);
        }
        .play-btn svg { width: 60px; fill: #000; margin-left: 8px; }
        .play-btn:hover { transform: scale(1.05); box-shadow: 0 0 50px var(--accent-dim); }

        .volume-container {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255,255,255,0.08);
            padding: 12px 25px;
            border-radius: 40px;
        }
        .volume-container svg { fill: var(--accent); width: 22px; }
        input[type=range] { -webkit-appearance: none; width: 120px; background: transparent; }
        input[type=range]::-webkit-slider-runnable-track { height: 4px; background: #333; border-radius: 2px; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 18px; width: 18px; border-radius: 50%; background: var(--accent); cursor: pointer; margin-top: -7px; box-shadow: 0 0 10px var(--accent); }

        /* --- Schedule --- */
        .schedule-strip {
            padding: 50px 5%;
            display: flex;
            gap: 30px;
            justify-content: center;
            background: rgba(0,0,0,0.5);
        }
        .schedule-card {
            min-width: 350px;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 20px;
            display: flex;
            gap: 20px;
            align-items: center;
            border: 1px solid rgba(255,255,255,0.05);
            transition: 0.3s;
        }
        .schedule-card.active { border-color: var(--accent); background: rgba(0, 255, 65, 0.05); }
        .sch-icon-box { 
            width: 70px; height: 70px; 
            border-radius: 15px; 
            display: flex; align-items: center; justify-content: center;
            background: #111;
        }
        .sch-icon-box svg { width: 40px; height: 40px; fill: #444; transition: 0.3s; }
        .schedule-card.active .sch-icon-box svg { fill: var(--accent); }
        .sch-time { color: var(--accent); font-size: 0.9rem; font-weight: 800; text-transform: uppercase; margin-bottom: 5px; }
        .sch-name { font-weight: 800; font-size: 1.2rem; }

        /* --- Sections --- */
        .content-section {
            padding: 100px 10%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            border-top: 1px solid rgba(255,255,255,0.05);
        }
        .content-section h3 { font-size: 2.8rem; margin-bottom: 25px; text-transform: uppercase; font-weight: 800; }
        .content-section p { color: var(--text-muted); line-height: 1.8; font-size: 1.2rem; margin-bottom: 20px; }
        .info-box { background: var(--card-bg); padding: 50px; border-radius: 25px; border-left: 5px solid var(--accent); }

        /* --- Mobile version --- */
        @media (max-width: 1024px) {
            .hamburger { display: flex; }
            
            nav {
                position: fixed;
                top: 0;
                right: -100%;
                width: 80%;
                height: 100vh;
                background: rgba(11, 11, 11, 0.98);
                backdrop-filter: blur(20px);
                flex-direction: column;
                justify-content: center;
                transition: 0.4s;
                z-index: 1050;
                border-left: 1px solid rgba(0, 255, 65, 0.2);
            }

            nav.active { right: 0; }
            nav a { font-size: 1.5rem; }

            .player-grid { flex-direction: column; text-align: center; padding: 40px 20px; }
            .now-playing { flex-direction: column; gap: 30px; }
            .cover-art { width: 260px; height: 260px; min-width: 260px; }
            .track-text h2 { font-size: 2.2rem; }
            .content-section { grid-template-columns: 1fr; gap: 40px; padding: 60px 5%; }
            .schedule-strip { flex-direction: column; align-items: center; }
            .schedule-card { width: 100%; min-width: auto; }
        }

        /* --- Form styles --- */
        .info-box form input,
        .info-box form textarea {
            width: 100%;
            background: #222;
            border: 1px solid #333;
            color: #fff;
            padding: 15px;
            border-radius: 10px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            outline: none;
            transition: 0.3s;
            margin-bottom: 15px;
        }


        .info-box form input:focus,
        .info-box form textarea:focus {
            border-color: var(--accent);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.2);
        }

        .info-box form button {
            background: var(--accent);
            color: #000;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-weight: 800;
            cursor: pointer;
            transition: 0.3s;
            text-transform: uppercase;
            width: 100%;
        }

        .info-box form button:hover {
            transform: scale(1.02); /* Кнопка чуть увеличивается */
            box-shadow: 0 0 20px var(--accent-dim);
        }
    </style>
</head>
<body>

    <div class="live-bg"></div>

    <header>
        <div class="logo">
            <img src="assets/main_logo.png" alt="NikRadofem">
        </div>
        
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <nav id="nav-menu">
            <a href="#player">Эфир</a>
            <a href="#about">О нас</a>
            <a href="#ads">Реклама</a>
            <a href="#contacts">Контакты</a>
        </nav>
    </header>

    <section class="hero" id="player">
        <div class="player-grid">
            <div class="now-playing">
                <div class="cover-art" id="art"></div>
                <div class="track-text">
                    <h5 id="live-status"><div class="status-dot"></div> В ПРЯМОМ ЭФИРЕ</h5>
                    <h2 id="title">NikRadofem Radio</h2>
                    <p id="artist">Загрузка...</p>
                </div>
            </div>

            <div class="controls-wrapper">
                <button class="play-btn" id="playBtn">
                    <svg id="playIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                </button>
                <div class="volume-container">
                    <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/></svg>
                    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.8">
                </div>
            </div>
        </div>
    </section>

    <!-- Schedule -->
    <div class="schedule-strip">
        <div class="schedule-card" id="sch-day">
            <div class="sch-icon-box">
                <svg viewBox="0 0 24 24"><path d="M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0 c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2l0,2 c0,0.55,0.45,1,1,1s1-0.45,1-1l0-2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20l0,2c0,0.55,0.45,1,1,1s1-0.45,1-1l0-2 c0-0.55-0.45-1-1-1S11,19.45,11,20z M5.64,4.22c-0.39-0.39-1.02-0.39-1.41,0s-0.39,1.02,0,1.41l1.41,1.41c0.39,0.39,1.02,0.39,1.41,0 s0.39-1.02,0-1.41L5.64,4.22z M18.36,16.95c-0.39-0.39-1.02-0.39-1.41,0s-0.39,1.02,0,1.41l1.41,1.41c0.39,0.39,1.02,0.39,1.41,0 s0.39-1.02,0-1.41L18.36,16.95z M18.36,4.22l-1.41,1.41c-0.39,0.39-0.39,1.02,0,1.41s1.02,0.39,1.41,0l1.41-1.41 c0.39-0.39,0.39-1.02,0-1.41S18.75,3.83,18.36,4.22z M5.64,16.95l-1.41,1.41c-0.39,0.39-0.39,1.02,0,1.41s1.02,0.39,1.41,0 l1.41-1.41c0.39-0.39,0.39-1.02,0-1.41S6.03,16.56,5.64,16.95z"/></svg>
            </div>
            <div>
                <div class="sch-time">07:00 - 22:00</div>
                <div class="sch-name">Rock + Pop Mix</div>
            </div>
        </div>
        <div class="schedule-card" id="sch-night">
            <div class="sch-icon-box">
                <svg viewBox="0 0 24 24"><path d="M12.12,2.05c1.1,0.08,2.15,0.35,3.12,0.78c0.36,0.16,0.48,0.6,0.22,0.9c-0.18,0.21-0.46,0.29-0.72,0.2 c-0.81-0.27-1.67-0.42-2.57-0.42c-4.47,0-8.09,3.62-8.09,8.09s3.62,8.09,8.09,8.09c0.9,0,1.76-0.15,2.57-0.42 c0.26-0.09,0.54-0.01,0.72,0.2c0.26,0.3,0.14,0.74-0.22,0.9c-0.97,0.43-2.02,0.7-3.12,0.78c-0.4,0.03-0.8-0.03-1.12-0.22 c-5.06-0.33-9.09-4.52-9.09-9.63S6.04,3.01,11,2.27C11.37,2.22,11.75,2.02,12.12,2.05z"/></svg>
            </div>
            <div>
                <div class="sch-time">22:00 - 07:00</div>
                <div class="sch-name">BrakeCore</div>
            </div>
        </div>
    </div>

    <!-- About us -->
    <section class="content-section" id="about">
        <div>
            <h3>О NikRadofem</h3>
            <p>NikRadofem — радиостанция, где вы услышите рок, брейккор и последние хиты. И это только начало!</p>
            <p>Слушайте наше радио и погружайтесь в атмосферу качественного звука. Идеально для работы, путешествий и отдыха.</p>
        </div>
        <div class="info-box">
            <h4>Почему мы?</h4>
            <ul style="list-style: none; margin-top: 20px;">
                <li style="margin-bottom: 15px; color: var(--accent); font-weight: 600;">✓ Только хиты 24/7</li>
                <li style="margin-bottom: 15px; color: var(--accent); font-weight: 600;">✓ Высокое качество потока</li>
                <li style="margin-bottom: 15px; color: var(--accent); font-weight: 600;">✓ Уникальный выбор музыки</li>
            </ul>
        </div>
    </section>

    <!-- Ads -->
    <section class="content-section" id="ads" style="background: rgba(0,0,0,0.3);">
        <div class="info-box">
            <h4>История</h4>
            <p>Наше радио существует с 2024 года. Все начиналось с простой идеи — создать платформу для лучшей музыки без лишнего шума.</p>
            <p>В 2025 году мы запустили nikradofem.online, объединив слушателей по всему миру.</p>
        </div>
        <div>
            <h3>Рекламодателям</h3>
            <p>Хотите, чтобы ваш продукт услышали тысячи? Мы предлагаем выгодные пакеты аудио-рекламы и спонсорства.</p>
            <p>Напишите нам для получения коммерческого предложения.</p>
        </div>
    </section>


    <!-- Contacts -->
    <section class="content-section" id="contacts">
        <div>
            <h3>Контакты</h3>
            <p>Электронная почта: nikita.minaev@gmail.com</p>
        </div>
        <div class="info-box">
            <form action="https://formspree.io/f/xpqjkaqv" method="POST" style="display: flex; flex-direction: column; gap: 15px;">
                <input type="text" name="name" placeholder="Ваше имя" required>
                <input type="email" name="email" placeholder="Ваш Email" required>
                <textarea name="message" placeholder="Сообщение" required></textarea>
                <button type="submit">ОТПРАВИТЬ</button>
            </form>
        </div>
    </section>

    <footer style="padding: 50px; text-align: center; color: #555; font-size: 0.9rem; border-top: 1px solid rgba(255,255,255,0.05);">
        &copy; 2026 NIKRADOFEM RADIO. ALL RIGHTS RESERVED.
    </footer>

    <audio id="stream" src="https://live.nikradofem.online/live" crossorigin="anonymous"></audio>

    <script>
        const audio = document.getElementById('stream');
        const playBtn = document.getElementById('playBtn');
        const playIcon = document.getElementById('playIcon');
        const volumeSlider = document.getElementById('volumeSlider');
        const titleEl = document.getElementById('title');
        const artistEl = document.getElementById('artist');
        const artEl = document.getElementById('art');
        const statusText = document.getElementById('live-status');
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('nav-menu');

        let isPlaying = false;

        // Hamburger menu
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Close menu
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
            });
        });

        // Sound initialization
        audio.volume = volumeSlider.value;
        volumeSlider.addEventListener('input', (e) => audio.volume = e.target.value);

        // Button Play
        playBtn.addEventListener('click', () => {
            if(!isPlaying) {
                statusText.innerHTML = '<div class="status-dot"></div> БУФЕРИЗАЦИЯ...';
                audio.load();
                audio.play();
                playIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>';
                isPlaying = true;
            } else {
                audio.pause();
                playIcon.innerHTML = '<path d="M8 5v14l11-7z"/>';
                isPlaying = false;
                statusText.innerHTML = '<div class="status-dot"></div> В ПРЯМОМ ЭФИРЕ';
            }
        });

        // Track name copy
        const copyTrackInfo = () => {
            const textToCopy = `${artistEl.innerText} - ${titleEl.innerText}`;
            navigator.clipboard.writeText(textToCopy).then(() => {
                // Info to user
                const toast = document.createElement('div');
                toast.innerText = "Название скопировано!";
                toast.style.cssText = `
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: var(--accent); color: #000; padding: 10px 20px;
            border-radius: 20px; font-weight: 800; z-index: 10000;
            box-shadow: 0 0 20px var(--accent-dim);
        `;
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 2000);
            });
        };

        // Track name and artist
        titleEl.style.cursor = "pointer";
        artistEl.style.cursor = "pointer";
        titleEl.onclick = copyTrackInfo;
        artistEl.onclick = copyTrackInfo;

        audio.addEventListener('playing', () => {
            statusText.innerHTML = '<div class="status-dot"></div> В ПРЯМОМ ЭФИРЕ';
        });

        audio.addEventListener('waiting', () => {
            if(isPlaying) statusText.innerHTML = '<div class="status-dot"></div> БУФЕРИЗАЦИЯ...';
        });

        // Meta
        async function updateMeta() {
            try {
                const res = await fetch('https://live.nikradofem.online/status-json.xsl');
                const data = await res.json();
                let source = Array.isArray(data.icestats.source) ? data.icestats.source[0] : data.icestats.source;
                
                if(source && source.title) {
                    const parts = source.title.split(' - ');
                    const artist = parts[0] ? parts[0].trim() : 'NikRadofem';
                    const title = parts[1] ? parts[1].trim() : artist;
                    
                    titleEl.innerText = title;
                    artistEl.innerText = parts[1] ? artist : 'NikRadofem Radio';
                    fetchCover(artist, title);
                }
            } catch (e) { console.error("Meta error", e); }
        }

        async function fetchCover(artist, title) {
            try {
                const query = encodeURIComponent(artist + " " + title);
                const res = await fetch(`https://itunes.apple.com/search?term=${query}&limit=1&entity=song`);
                const data = await res.json();
                
                if(data.results && data.results.length > 0) {
                    const img = data.results[0].artworkUrl100.replace('100x100', '600x600');
                    artEl.style.backgroundImage = `url(${img})`;
                } else {
                    artEl.style.backgroundImage = `url('assets/not_found.png')`;
                }
            } catch (e) {
                artEl.style.backgroundImage = `url('assets/not_found.png')`;
            }
        }

        function checkSchedule() {
            const hour = new Date().getHours();
            const dayCard = document.getElementById('sch-day');
            const nightCard = document.getElementById('sch-night');
            
            if(hour >= 7 && hour < 22) {
                dayCard.classList.add('active');
                nightCard.classList.remove('active');
            } else {
                nightCard.classList.add('active');
                dayCard.classList.remove('active');
            }
        }

        setInterval(updateMeta, 10000);
        setInterval(checkSchedule, 60000);
        updateMeta();
        checkSchedule();

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>